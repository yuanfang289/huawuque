<template>
  <div class="img-wrap" :class="imgError ? 'img-error' : ''" ref="imgWrap">
    <lazy-img
      v-if="show"
      :src="src"
      @img-error="onError"
      :rule="rule"
      :error="defImg || errorImg"
      :loading="loadingImg"
      :alt="alt" />
  </div>
</template>

<script>
  import {getRect} from 'utils/dom';
  import LazyImg from 'component/img/LazyImg';

  /**
   * @property {string}   props.src
   * @property {string}   props.alt
   * @property {string}   props.defImg     img加载失败时的默认图
   * @property {string}   props.size       指定裁剪尺寸
   * @property {string}   props.mode       指定裁剪模式['aspectFit', 'aspectFill']，默认aspectFill
   * @property {boolean}  props.no2x       是否使用2倍图片，只有未传size时生效，默认false
   */
  export default {
    props: {
      src: {
        type: String,
        default: ''
      },
      alt: {
        type: String,
        default: ''
      },
      defImg: {
        type: String
      },
      size: {
        type: String,
        validator(value) {
          return /\d+[xX]\d+/.test(value)
        }
      },
      mode: {
        type: String,
        default: 'aspectFill',
        validator(value) {
          /**
           * @param aspectFit   保持纵横比缩放图片，使图片的长边能完全显示出来。也就是说，可以完整地将图片显示出来
           * @param aspectFill  保持纵横比缩放图片，只保证图片的短边能完全显示出来。
           * 也就是说，图片通常只在水平或垂直方向是完整的，另一个方向将会发生居中裁剪
           */
          return ['aspectFit', 'aspectFill'].indexOf(value) !== -1
        }
      },
      no2x: {
        type: Boolean,
        default: false
      }
    },
    data: () => {
      /**
       * @type {boolean} imgError        img是否加载失败
       * @type {string}  errorImg        img加载失败时显示的图片
       * @type {string}  loadingImg      img加载过程中显示的图片
       * @type {string}  rule            img裁剪规则
       */
      return {
        imgError: false,
        errorImg: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjwAAAEgCAYAAACw86nnAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODQ1RjJFOTZFNjFBMTFFN0FGMURDMURGRjFGODRCQTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODQ1RjJFOTdFNjFBMTFFN0FGMURDMURGRjFGODRCQTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4NDVGMkU5NEU2MUExMUU3QUYxREMxREZGMUY4NEJBMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4NDVGMkU5NUU2MUExMUU3QUYxREMxREZGMUY4NEJBMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgBlzlcAADvkSURBVHja7J0H2BTV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",
        loadingImg: '',
        rule: '',
        show: false
      }
    },
    components: {
      LazyImg
    },
    methods: {
      setRule() {
        let size = this.size;

        /**
         * @desc 如果没有设置size，则获取容器尺寸作为img裁剪尺寸
         */
        if (!size) {
          let rect = getRect(this.$refs.imgWrap);

          // 图片倍数
          let x = rect.width < 300 ? 2 : 1;

          // 不使用2x图
          x = this.no2x ? 1 : 2;

          size = `${rect.width * x}x${rect.height * x}`;
        }

        if (this.mode === 'aspectFit') {
          this.rule = `?imageMogr2/auto-orient/thumbnail/!${size}/gravity/Center`;
        }
        if (this.mode === 'aspectFill') {
          this.rule = `?imageMogr2/auto-orient/thumbnail/!${size}r/gravity/Center/crop/${size}`;
        }

        this.show = true;
      },
      onError() {
        this.imgError = true;
      }
    },
    mounted() {
      this.setRule();
    }
  }
</script>

<style lang="scss" scoped>
  .img-wrap {
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    &.img-error {
      background-color: #f5f5f5;
    }
    img {
      display: block;
      max-width: 100%;
      max-height: 100%;
    }
  }
</style>
